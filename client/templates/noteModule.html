<template name="noteModule">
    <div class="note-module">
        <header>
            <div class="{{status}}">
                {{> loginButtons}}
            </div>
            {{#if currentUser}}
                <div class="note-new">
                    <label class="new-label pointer js-note-new"></label>
                </div>
            {{/if}}
        </header>

        <div class="time-list">
            <ul class="unstyle pointer">
                {{#each times}}
                    {{> time}}
                {{/each}}
            </ul>
        </div>

        <div class="note-list">
            <ul class="unstyle">
                {{#each notes}}
                    {{> note}}
                {{/each}}
            </ul>
        </div>
    </div>
</template>

<template name="time">
    <li class="time-item" {{current}}>
        <label class="time-label pointer">{{start}} ~ {{end}}</label>
    </li>
</template>

<template name="note">
    <li class="note-item js-note-item" _id="{{_id}}">
        <div class="item-time">
            <label>{{updateAt}}</label>
        </div>
        <div class="item-title">
            <label>事件：</label>
            <div class="edit-title title" name="title" contenteditable="{{editable}}">{{title}}</div>
        </div>
        <div class="item-content">
            <label>内容：</label>
            <div class="edit-content content" name="content" contenteditable="{{editable}}">{{content}}</div>
        </div>
        <div class="item-progress">
            <label>进度：</label>
            <div class="edit-progress progress" name="progress" contenteditable="{{editable}}">{{progress}}</div>
        </div>
        <div class="item-risk">
            <label>风险：</label>
            <div class="edit-risk risk" name="risk" contenteditable="{{editable}}">{{risk}}</div>
        </div>
    </li>
</template>